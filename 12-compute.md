

# Compute

![](../../../../static/img/0%20-%20Programs/1%20-%20DataEngineering/6%20-%20Azure/img150.png)

---

## ‚öôÔ∏è ¬øQu√© es la secci√≥n **Compute**?

Es donde gestionas los **recursos de c√≥mputo** que necesitas para ejecutar tus notebooks, tareas automatizadas (jobs), consultas SQL y modelos de machine learning. En pocas palabras, aqu√≠ creas y administras los cl√∫steres que te dan la potencia para trabajar con datos.

---

### üß© Pesta√±as dentro de la secci√≥n Compute:

1. **All-purpose compute**
    
    - Aqu√≠ creas **cl√∫steres interactivos**, ideales para notebooks colaborativos y exploraci√≥n de datos en tiempo real.
        
    - Se pueden compartir entre usuarios y se mantienen activos mientras los necesitas.
        
2. **Job compute**
    
    - Cl√∫steres dedicados a la ejecuci√≥n de **jobs autom√°ticos o programados**.
        
    - Son ef√≠meros: se inician cuando comienza un trabajo y se apagan al terminar, optimizando costos.
        
3. **SQL Warehouses**
    
    - Infraestructura especializada para ejecutar **consultas SQL** con alto rendimiento.
        
    - Son ideales para dashboards o herramientas de BI conectadas a Databricks.
        
4. **Vector Search**
    
    - Permite crear √≠ndices para hacer **b√∫squedas vectoriales** (por ejemplo, para IA generativa o motores de recomendaci√≥n).
        
    - Aparece si tienes activada esta funcionalidad (en vista previa o edici√≥n espec√≠fica).
        
5. **Pools**
    
    - Agrupan instancias previamente activadas para reducir el tiempo de inicio de cl√∫steres.
        
    - √ötil cuando necesitas ejecutar jobs frecuentemente y no quieres esperar a que un cl√∫ster arranque desde cero.
        
6. **Policies**
    
    - Aqu√≠ defines pol√≠ticas para controlar c√≥mo se crean los cl√∫steres.
        
    - Puedes limitar el tipo de m√°quinas, tama√±o, duraci√≥n, etc., seg√∫n necesidades o presupuestos del equipo.
        
7. **Apps**
    
    - Muestra aplicaciones o integraciones desplegadas dentro del entorno de Databricks.
        
    - No siempre est√° activo, depende de tu configuraci√≥n.
        
8. **Lakebase Postgres**
    
    - Una nueva integraci√≥n con PostgreSQL para facilitar consultas y sincronizaci√≥n de datos.
        
    - A√∫n puede estar en versi√≥n preview o restringida a ciertas ediciones.
        

---

### üõ†Ô∏è Otras funcionalidades destacadas en la pantalla:

- **Create with Personal Compute**: Te permite iniciar un cl√∫ster personal r√°pidamente con una configuraci√≥n predeterminada.
    
- **Create compute**: Abre el asistente para configurar tu propio cl√∫ster (tipo de instancia, n√∫mero de nodos, pol√≠ticas, etc.).
    
- **Filtros y columnas**: Puedes buscar, ordenar o filtrar cl√∫steres por nombre, creador, pol√≠tica, uso de recursos, etc.
    

---

### ‚úÖ KEYS:

La secci√≥n **Compute** es el coraz√≥n operativo de Databricks. Aqu√≠ defines con cu√°nta potencia vas a trabajar, c√≥mo se usa esa potencia (interactiva o autom√°tica), y cu√°nto control tienes sobre su comportamiento. Organizar bien esta parte es clave para balancear rendimiento y costos.



---

## **Create Compute**

Ahora nos posicionamos en la pesta√±a **All-purpose compute** dentro de la secci√≥n **Compute** de Databricks. Aqu√≠ es donde puedes crear cl√∫steres interactivos para trabajar con notebooks, probar c√≥digo, explorar datos y colaborar con otros usuarios.

---

![](../../../../static/img/0%20-%20Programs/1%20-%20DataEngineering/6%20-%20Azure/img151.png)

### üü® Men√∫ desplegable de pol√≠ticas de c√≥mputo

üìç**Haz clic:** Parte superior derecha, junto al bot√≥n azul "Create compute"

Este men√∫ desplegable permite seleccionar **la pol√≠tica con la cual crear tu recurso de c√≥mputo**, y es clave para definir c√≥mo se comportar√° ese cl√∫ster. Las opciones que se muestran son:

- **Create with Personal Compute**  
    ‚Üí Crea un cl√∫ster solo para ti. Nadie m√°s podr√° conectarse ni compartirlo. Ideal para trabajo individual, pruebas o desarrollo personal.
    
- **Create with Power User Compute**  
    ‚Üí Pensado para usuarios avanzados que requieren m√°s control sobre la configuraci√≥n. Suele permitir elegir m√°s tipos de instancias o configuraciones personalizadas.
    
- **Create with Shared Compute**  
    ‚Üí Crea un cl√∫ster que puede ser compartido entre varios usuarios. √ötil para equipos que colaboran en los mismos notebooks o procesos.
    

> üîç Estas "pol√≠ticas" no solo definen permisos, sino tambi√©n l√≠mites de recursos, tipos de instancias permitidas, tiempo de vida del cl√∫ster, etc.

---

### üü® Bot√≥n **Create compute**

üìç**Ubicaci√≥n:** Parte central inferior

Este bot√≥n es el **acceso directo para iniciar un nuevo cl√∫ster** desde cero. Al hacer clic, se abre un asistente donde puedes definir:

- Nombre del cl√∫ster
    
- Tipo de m√°quina y n√∫mero de nodos
    
- Versi√≥n del entorno (Databricks Runtime)
    
- Pol√≠ticas aplicadas
    
- Configuraciones avanzadas como autoscaling, acceso a librer√≠as, etc.
    

> üí° Este bot√≥n aparece cuando no tienes ning√∫n cl√∫ster activo, como en la imagen que indica ‚ÄúNo compute‚Äù.

---

üîö En resumen:

Puedes crear tu entorno de ejecuci√≥n en Databricks usando distintas pol√≠ticas de c√≥mputo. Puedes elegir si el cl√∫ster ser√° personal, compartido o avanzado

Ahora haz clic en **‚ÄúCreate compute‚Äù** para empezar a trabajar. Este paso es esencial, ya que sin un cl√∫ster activo no puedes ejecutar notebooks ni consultas.

---

## Formulario para **crear un nuevo cl√∫ster**

![](../../../../static/img/0%20-%20Programs/1%20-%20DataEngineering/6%20-%20Azure/img152.png)

Perfecto. Ahora que estas en el formulario para **crear un nuevo cl√∫ster** en Databricks y tu objetivo es crear **un cl√∫ster personal, peque√±o y de prueba**, lo cual es ideal para desarrollo ligero o validaci√≥n de c√≥digo. Vamos a revisar **cada secci√≥n paso a paso**, explicando qu√© significa y c√≥mo configurarlo eficientemente para nuestro proyecto.

---

### üßæ **1. General**

|Campo|Descripci√≥n|Recomendaci√≥n para pruebas|
|---|---|---|
|**Compute name**|Nombre del cl√∫ster. Databricks genera uno autom√°tico con fecha/hora.|Puedes dejar el nombre por defecto o poner algo como `"test-cluster"` para identificarlo f√°cilmente.|
|**Policy**|Determina las reglas aplicadas al cl√∫ster (recursos m√°ximos, configuraci√≥n permitida, etc.).|Si ves ‚ÄúUnrestricted‚Äù, significa que no hay restricciones. Ideal para pruebas r√°pidas.|

---

### ‚öôÔ∏è **2. Performance**

Aqu√≠ defines la potencia y capacidades del cl√∫ster:

#### ‚úÖ Machine learning (opcional)

- **Si se activa**, el cl√∫ster incluye bibliotecas de ML preinstaladas (MLflow, scikit-learn, etc.).
    
- **Para pruebas simples**, puedes **dejarlo desactivado**, a menos que est√©s haciendo algo de ML.
    

#### ‚ö° Databricks runtime

- Es la versi√≥n del entorno base (Scala + Spark + librer√≠as).
    
- En la imagen est√° seleccionado: **`16.4 LTS`**, lo cual es una versi√≥n estable y con soporte extendido.
    
- **Est√° bien dejarlo as√≠.**
    

#### üß† Photon acceleration (opcional)

- Acelera el procesamiento en ciertas cargas de trabajo SQL y DataFrame.
    
- **Puedes dejarlo activado**, no genera sobrecostos si no se usa.
    

#### üñ•Ô∏è Worker type

- El tipo de m√°quina virtual que se usar√° como **nodo trabajador** del cl√∫ster.
    
- Por default se usa: **`Standard_D4ds_v5` (16 GB RAM, 4 cores)**
    
- **Para reducir costos**, puedes cambiar a algo m√°s peque√±o como `Standard_D2ds_v5` (8 GB, 2 cores), si est√° disponible.
    

#### üîÑ Autoscaling (habilitado)

- Escala autom√°ticamente el n√∫mero de nodos seg√∫n la carga.
    
- **Ideal para pruebas**, ya que puedes empezar con 2 nodos y crecer hasta 8 solo si es necesario.
    

#### ‚è±Ô∏è Terminate after X minutes of inactivity

- Si no se usa el cl√∫ster por el tiempo definido, se apaga autom√°ticamente para **evitar costos innecesarios**.
    
- En la imagen est√° configurado en **120 minutos**, lo cual est√° bien para pruebas. Puedes bajarlo a 30 si quieres mayor control de costos.
    

#### üß¨ Advanced performance (plegable)

- Configuraciones m√°s t√©cnicas como tipo de disco, GPU, etc.
    
- Puedes **ignorarlo** para este caso de prueba.
    

---

### üè∑Ô∏è **3. Tags**

- Puedes asignar etiquetas clave/valor para organizar y rastrear costos o recursos.
    
- **No es obligatorio**. Puedes dejarlo vac√≠o.
    

---

### üì¶ **4. Advanced** (plegable)

- Aqu√≠ puedes configurar librer√≠as, scripts de inicio, variables de entorno, etc.
    
- **No es necesario tocarlo para un cl√∫ster de pruebas.**
    

---

### üßæ **5. Panel derecho ‚Äì Resumen**

|Secci√≥n|Qu√© muestra|
|---|---|
|**Summary**|Rango estimado de recursos seg√∫n la configuraci√≥n (memoria y n√∫cleos).|
|**Data access**|Muestra que el cl√∫ster podr√° acceder a los datos gestionados por **Unity Catalog**.|
|**Price**|Estimaci√≥n del costo por hora en DBUs (Databricks Units). Esto var√≠a seg√∫n tu contrato cloud.|

Tambi√©n puedes alternar entre **UI y JSON**, para ver la configuraci√≥n en formato de c√≥digo.

---

## **cl√∫ster personal**


![](../../../../static/img/0%20-%20Programs/1%20-%20DataEngineering/6%20-%20Azure/img153.png)

Ahora crearemos un **cl√∫ster personal, de bajo costo, en modo single-node**, con una versi√≥n estable de Spark y aceleraci√≥n activada. Adem√°s, estableceremos un apagado autom√°tico muy corto (10 min), lo que **minimiza riesgos de cobros innecesarios**. Es una configuraci√≥n excelente para pruebas peque√±as o notebooks exploratorios.

## **Advanced**

![](../../../../static/img/0%20-%20Programs/1%20-%20DataEngineering/6%20-%20Azure/img154.png)

En esta secci√≥n **Advanced** es para la configuraci√≥n de un cl√∫ster en Databricks, donde puedes definir algunos par√°metros adicionales para personalizar el comportamiento del cl√∫ster. Aqu√≠ te explico cada parte:

---

#### 1. **Access mode**

- **Auto**: El cl√∫ster se gestiona autom√°ticamente, lo que significa que Databricks decide el nivel de acceso a los recursos seg√∫n sea necesario (normalmente la opci√≥n predeterminada).
    
- **Manual**: Aqu√≠ puedes gestionar manualmente los recursos y configuraciones de acceso. Esto te da m√°s control, pero es m√°s adecuado para configuraciones avanzadas o espec√≠ficas que no requieren la gesti√≥n autom√°tica.
    

> **Recomendaci√≥n**: En un entorno de prueba y sin configuraciones espec√≠ficas de seguridad, **deja el modo en "Auto"**. Esto es ideal para no complicarte con configuraciones adicionales que no son necesarias en este caso.

#### 2. **Logging**

- Esta opci√≥n permite configurar el registro de logs para el cl√∫ster.
    
- **Logging** permite rastrear eventos, errores y actividades dentro del cl√∫ster, y es √∫til si deseas realizar auditor√≠as o monitorizar el uso.
    

> **Recomendaci√≥n**: Para pruebas b√°sicas, **no necesitas cambiar esta opci√≥n**, ya que no se requiere un registro detallado a menos que est√©s buscando depurar problemas complejos.

#### 3. **Init scripts**

- Los **init scripts** son secuencias de comandos que se ejecutan cuando el cl√∫ster se inicia, lo que te permite instalar librer√≠as adicionales, configurar variables de entorno o realizar otras personalizaciones.
    
- Esta opci√≥n te deja a√±adir scripts personalizados para modificar tu entorno antes de usarlo.
    

> **Recomendaci√≥n**: Para pruebas sencillas, **no es necesario utilizar init scripts** a menos que est√©s buscando preconfigurar algo espec√≠fico para tu proyecto.

#### 4. **JDBC/ODBC**

- Estas configuraciones permiten establecer conexiones mediante los protocolos JDBC o ODBC a otras bases de datos o sistemas externos.
    
- Se usa cuando deseas conectar Databricks con bases de datos externas como MySQL, PostgreSQL, o incluso otros entornos en la nube.
    

> **Recomendaci√≥n**: **No es necesario para un cl√∫ster de prueba**, a menos que vayas a conectar con una base de datos externa de forma constante.

---

### üîê **Acceso y Seguridad**

En la parte inferior, ves un candado al lado de **Standard** en "Access mode". Esto indica que el acceso a esta configuraci√≥n est√° restringido por pol√≠ticas o permisos en tu cuenta. No podr√°s cambiarlo si no tienes los privilegios necesarios.

---

‚úÖ **KEYS**

La secci√≥n **Advanced** te permite personalizar detalles adicionales del cl√∫ster, pero para pruebas sencillas, **puedes dejar estas opciones tal como est√°n**. Configura el acceso en modo **Auto**, no es necesario habilitar logging o scripts de inicializaci√≥n, y no necesitas conectar a bases de datos externas.

## ‚úÖ ¬øQu√© hacer ahora?

Una vez revisado todo:

- Haz clic en **Create** para iniciar el cl√∫ster.
    
- Espera unos minutos hasta que cambie a estado `Running`.
    
- ¬°Listo! Ya puedes abrir un notebook y empezar a probar c√≥digo.
    

---

